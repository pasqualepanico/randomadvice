<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <!-- For responsive design -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- css file -->
    <link rel="stylesheet" href="/styles.css">
    <!-- Link to w3.css -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <link rel="icon" href="/favicon-32x32.png">

    <title>Advice generator app</title>

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Manrope&display=swap" rel="stylesheet" id="">
  </head>
  <body role="main">
        <div class="w3-round-large inner">
          <p> ADVICE # <span class="number"></span></p>
            <span class="message">"

           ."</span>

              <img class="line-divider" src="/pattern-divider-desktop.svg" alt="divider-line">

              <div class="dice">
                <img onclick="diceClicked()" class="pic-dice" src="/icon-dice.svg" alt="dice-icon">
              </div>

        </div>

        <script>
          function diceClicked(){
            const xhttp = new XMLHttpRequest();
            xhttp.onload = function() {

              var answer = xhttp.responseText;
              console.log(xhttp.responseText);
              const advice = JSON.parse(answer);
              const nberAdvice = advice.slip.id;
              const textAdvice = advice.slip.advice;

              document.querySelector(".number").innerHTML = nberAdvice;

              document.querySelector(".message").innerHTML = '"' + textAdvice + '"';
              const myTimeout = setTimeout(resetDiceClicked, 5500);
            }
              xhttp.open("GET", "https://api.adviceslip.com/advice");
              xhttp.send();
          }

          function resetDiceClicked(){
            document.querySelector(".number").innerHTML = "";
            document.querySelector(".message").innerHTML = '"."';
          }

        </script>

        <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <script src="index.js" charset="utf-8"></script> -->
  </body>
</html>
